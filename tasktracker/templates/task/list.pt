This is list <span tal:replace="c/tasklist/title" />.<br />

<span tal:condition="python: not c.tasklist.isWatchedBy(c.username)">
<tal:nada replace="structure python:h.link_to('Watch this task list', url=h.url_for(action='show_create', controller='watcher', targetID=c.tasklist.id, type='tasklist'))"/>
</span>
<span tal:condition="python: c.tasklist.isWatchedBy(c.username)">
You are watching this task list.  
<tal:nada replace="structure python:h.link_to('Edit your watch settings', url=h.url_for(action='show_update', controller='watcher', id=c.tasklist.getWatcher(c.username).id))"/>
</span>
<br/>
<br/>

<tal:if condition="python: len(c.tasklist.tasks) > 1 and h.has_permission('tasklist', 'update', id=c.tasklist.id)">
  <a id="reorder_button" href="javascript:modeSwitch();">
    <span id="modeName">Reorder</span>
  </a><br/><br/>
</tal:if>

<span tal:condition="python: len(c.tasks)">

<!-- list headers -->

Task name
<span class="status-column">Status <a href="#sortbydeadline" class="sortarrow" onclick="sortBy('status'); return false;">&#x2193;</a></span>
<span class="deadline-column">Deadline <a href="#sortbydeadline" class="sortarrow" onclick="sortBy('deadline'); return false;">&#x2193;</a></span>
<span class="priority-column">Priority <a href="#sortbypriority" class="sortarrow" onclick="sortBy('priority'); return false;">&#x2193;</a></span>
<span class="assigned-column">Assigned to<a href="#sortbyowner" class="sortarrow" onclick="sortBy('owner'); return false;">&#x2193;</a></span>
<span class="creator-column">Created by</span>

<!-- the actual task list -->

<ul id="tasks" class="task_list">
  <tal:for repeat="atask c/tasks">
    
    <metal:do metal:use-macro="here/task_item/macros/show_task" />
    
  </tal:for>
</ul>

</span>

<!-- the garbage bin -->
<span tal:replace="structure python: h.image_tag('/images/trash.png', id='trash')" />

<!-- the create setup -->

<metal:do use-macro="here/_hideable_show_create/macros/show">
<span metal:fill-slot="subtask_link">
<a tal:attributes="href python:h.url_for(action='show_create', controller='task', task_listID=c.tasklist.id)" onclick="hideCreate();return false;">Add a new task.</a>
<br/>
<a tal:attributes="href python:h.url_for(action='show_create_tasks', controller='task', task_listID=c.tasklist.id)">Add a bunch of new tasks.</a>
</span>
</metal:do>


<!-- ----------------------------- -->

<hr />
<br />

<tal:if condition="python: h.has_permission('tasklist', 'update', id=c.tasklist.id)">
<a tal:attributes="href python:h.url_for(controller='tasklist', action='show_update', id=c.tasklist.id)">Edit list settings</a>
|
</tal:if>

<a tal:attributes="href python:h.url_for(controller='tasklist', action='index')">Back to list of lists</a>
