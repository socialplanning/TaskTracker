<metal:macro define-macro="private">

  <tal:if condition="c/task/private">
    <span tal:replace="structure python:h.secure_link_to_remote('make this task public', dict(url=h.url_for(controller='task', action='update_private', id=c.task.id, private='false'), update=dict(success='private')))" />
  </tal:if>

  <tal:if condition="not: c/task/private">
    <span tal:replace="structure python:h.secure_link_to_remote('make this task private', dict(url=h.url_for(controller='task', action='update_private', id=c.task.id, private='true'), update=dict(success='private')))" />
  </tal:if> 
</metal:macro>
